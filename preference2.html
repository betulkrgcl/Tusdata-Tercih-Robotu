<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link rel="stylesheet" href="assets/css/global/layout.css">
  <link rel="stylesheet" href="assets/css/global/Icons/icofont.min.css">
  <link rel="stylesheet" href="assets/css/programmeList.css">
  <link rel="stylesheet" href="assets/css/global/modernInput.css">
  <link rel="stylesheet" href="assets/css/global/tabsMenu.css">
  <link rel="stylesheet" href="assets/css/global/table.css">
  <link rel="stylesheet" href="assets/css/global/popup.css">
  <link rel="stylesheet" href="assets/css/global/footer.css">
  <link rel="stylesheet" href="assets/css/preference.css">
  <link rel="stylesheet" href="assets/css/global/global.css">
</head>
<style>
  html,
  body {
    height: 100%;
  }

  body {
    cursor: url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/106114/cursor.png) 32 32, move;
    background: #eeeeee;

  }

  *,
  *:before,
  *:after {
    box-sizing: border-box;
  }

  .container {
    position: relative;
    width: 100%;
    height: 500px;
    opacity: 0;
    visibility: hidden;
    cursor: url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/106114/cursor.png), move;
    cursor: url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/106114/cursor.png) 32 32, move;
  }

  .list-item {
    position: absolute;
    top: 0;
    left: 0;
    height: 90px;
    width: 100%;
  }

  .item-content {
    height: 100%;
    border: 0px solid rgba(123, 123, 123, 0.498039);
    border-radius: 4px;
    color: #999999;
    line-height: 90px;
    padding-left: 32px;
    font-size: 24px;
    font-weight: 400;
    background-color: white;
    box-shadow: rgba(0, 0, 0, 0.2) 0px 1px 2px 0px;
    position: relative;

  }

  .item-content::after {
    content: "\e919";
    font-family: IcoFont !important;
    position: absolute;
    font-size: 18px;
    color: #868e96;
    right: 20px;
  }

  .item-content--flex-layout {
    display: flex;
    gap: 100px;
  }

  .item-content__flex-layout {
    display: flex;
    gap: 60px;
  }

  .preference-list__buttons-2--flex-layout {
    display: flex;
    justify-content: center;
  }
</style>

<body>

  <div class="popup" style="display: none;">
    <div class="popup__container">
      <div class="popup__container__exit"><i onclick="hidePopup()" class="icofont-exit"></i></div>
      <div class="popup__container__header">Program Detayları</div>
      <div class="popup__container__content">asdasd</div>
    </div>
  </div>


  <header class="layout">
    <nav class="navbar">
      <ul class="navbar__list">
        <li class="navbar__list__item"><a href="#">Merhaba Betül</a></li>
        <li class="navbar__list__item"><a href="#">Çıkış Yap</a></li>
      </ul>
    </nav>
    <div class="layout__videos">
      <video id="vid" src="assets/videos/home-bg.mp4" autoplay muted></video>
    </div>
    <div class="layout__logo">
      <img src="assets/images/tusdata_header_logo.png" alt="">
    </div>
  </header>

  <div class="layout__content">
    <ul class="nav-brands">
      <li class="nav-brands__item"><a href="#">Anasayfa</a></li>
      <li class="nav-brands__item"><a href="#">Tercih İşlemleri</a></li>
    </ul>

    <div class="layout__content__side">
      <div class="layout__content__side-bar">
        <div class="layout__content__side-bar__item layout__content__side-bar__item--active">
          <input type="radio" name="sub-menu" id="sub-menu-1" hidden>
          <label for="sub-menu-1">
            <i class="icofont-users-alt-4 menu-icon"></i>
            <div class="menu-item">Kullanıcı Ayarları</div>
            <ul class="layout__content__side-bar__item__sub-menu layout__content__side-bar__item__sub-menu--2">
              <a href="personalInfo.html">
                <li class="menu-item__sub-menu"><i class="icofont-star-alt-1 sub-menu-icon"></i> Kişisel
                  Bilgiler</li>
              </a>
              <a href="passwordProcess.html">
                <li class="menu-item__sub-menu"><i class="icofont-star-alt-1 sub-menu-icon"></i> Şifre
                  İşlemleri</li>
              </a>
            </ul>
          </label>
        </div>
        <div class="layout__content__side-bar__item">
          <input type="radio" name="sub-menu" id="sub-menu-2" hidden>
          <label for="sub-menu-2">
            <i class="icofont-doctor menu-icon"></i>
            <div class="menu-item">Tercih İşlemleri</div>
            <ul class="layout__content__side-bar__item__sub-menu layout__content__side-bar__item__sub-menu--2">
              <a class="text-center" href="programmeList.html">
                <li class="menu-item__sub-menu"><i class="icofont-star-alt-1 sub-menu-icon"></i>Puan ve
                  Sıralama</li>
              </a>
              <a class="text-center" href="preference.html">
                <li class="menu-item__sub-menu"><i class="icofont-star-alt-1 sub-menu-icon"></i>Tercih
                  Yap</li>
              </a>
            </ul>
          </label>
        </div>

        <div class="layout__content__side-bar__item">
          <input type="radio" name="sub-menu" id="sub-menu-3" hidden>
          <label for="sub-menu-3">
            <a class="text-center" href="programmeList.html">
              <i class="icofont-chart-growth menu-icon"></i>
              <div class="menu-item">Kontenjanlar</div>
            </a>
          </label>
        </div>
        <div class="layout__content__side-bar__item">
          <input type="radio" name="sub-menu" id="sub-menu" hidden>

          <label for="sub-menu">
            <a class="text-center" href="conclusion.html">
              <i class="icofont-certificate-alt-1 menu-icon"></i>
              <div class="menu-item">Yerleştirme Sonuçları</div>
            </a>
          </label>

        </div>
        <div class="layout__content__side-bar__item">
          <input type="radio" name="sub-menu" id="sub-menu" hidden>
          <label for="sub-menu">
            <a class="text-center" href="">
              <i class="icofont-pie-chart menu-icon"></i>
              <div class="menu-item">İstatistikler</div>
            </a>
          </label>
        </div>
        <div class="layout__content__side-bar__item">
          <input type="radio" name="sub-menu" id="sub-menu" hidden>
          <label for="sub-menu">
            <a class="text-center" href="contact.html">
              <i class="icofont-ui-call menu-icon"></i>
              <div class="menu-item">İletişim ve Destek</div>
            </a>
          </label>
        </div>
        <div class="layout__content__side-bar__item">
          <input type="radio" name="sub-menu" id="sub-menu" hidden>
          <label for="sub-menu">
            <a class="text-center" href="">
              <i class="icofont-error menu-icon"></i>
              <div class="menu-item">Hata Bildir</div>
            </a>
          </label>
        </div>
      </div>
      <div class="layout__content__side__right program-list">
        <div class="program-list__header">
          <div><i class="icofont-list"></i> Tercih İşlemleri</div>
        </div>

        <div class="preference-list__buttons">

          <div class="preference-list__buttons__reject preference-list__buttons__item">Tercih Yapmayacağım
          </div>
          <div class="preference-list__buttons__accept preference-list__buttons__item">Tercihimi Kesinleştir
          </div>
          <div class="preference-list__buttons__save preference-list__buttons__item">Tercihimi Kaydet</div>
        </div>

        <div class="preference-list__buttons-2 display-none">
          <div class="preference-list__buttons__return-back preference-list__buttons__item">Tercih Yapacağım</div>
        </div>

        <div class="preference-list__container">
          <section class="container">

            <div class="list-item">
              <div class="item-content item-content--flex-layout">
                <div class="item-content__flex-layout">
                  <span class="order">1</span>
                  <div>1000000001</div>
                  <div><button onclick="showPopup()" type="button">Seç</button></div>
                </div>
                <div class="department-name">1Amasya Üniversitesi Diş Hekimliği Fakültesi </div>
              </div>
            </div>

            <div class="list-item">
              <div class="item-content item-content--flex-layout">
                <div class="item-content__flex-layout">
                  <span class="order">2</span>
                  <div>1000000001</div>
                  <div><button onclick="showPopup()" type="button">Seç</button></div>
                </div>
                <div class="department-name">2Amasya Üniversitesi Diş Hekimliği Fakültesi </div>
              </div>
            </div>

            <div class="list-item">
              <div class="item-content item-content--flex-layout">
                <div class="item-content__flex-layout">
                  <span class="order">3</span>
                  <div>1000000001</div>
                  <div><button onclick="showPopup()" type="button">Seç</button></div>
                </div>
                <div class="department-name">3Amasya Üniversitesi Diş Hekimliği Fakültesi </div>
              </div>
            </div>

            <div class="list-item">
              <div class="item-content item-content--flex-layout">
                <div class="item-content__flex-layout">
                  <span class="order">4</span>
                  <div>1000000001</div>
                  <div><button onclick="showPopup()" type="button">Seç</button></div>
                </div>
                <div>4Amasya Üniversitesi Diş Hekimliği Fakültesi </div>
              </div>
            </div>
            <div class="list-item">
              <div class="item-content item-content--flex-layout">
                <div class="item-content__flex-layout">
                  <span class="order">5</span>
                  <div></div>
                  <div><button onclick="showPopup()" type="button">Seç</button></div>
                </div>
                <div></div>
              </div>
            </div>
          </section>
        </div>


      </div>
    </div>

  </div>
  <footer class="footer">
    <div class="footer__right">
      <i class="icofont-copyright"></i>
      <div class="footer__right__text">2023 Tüm haklar TUSDATA'ya aittir. <a href="">TUSDATA</a> / <a href="">DUSDATA
        </a> </div>
    </div>
    <div class="footer__application">
      <div class="footer__application__play-store footer__application__item">
        <figure class="footer__application__play-store__icon">
          <img src="assets/images/playstore.png" alt="">
        </figure>
        <div class="footer__application__play-store__info">
          <div class="footer__application__play-store__app">Google Play</div>
          <div class="footer__application__play-store__text">İndirmek için tıklayınız.</div>

        </div>
      </div>
      <div class="footer__application__ios footer__application__item">
        <figure class="footer__application__play-store__icon">
          <img src="assets/images/apple.png" alt="">
        </figure>
        <div class="footer__application__play-store__info">
          <div class="footer__application__app-store__app">App Store</div>
          <div class="footer__application__play-store__text">İndirmek için tıklayınız.</div>

        </div>
      </div>
      <div class="footer__application__telegram footer__application__item">
        <figure class="footer__application__telegram__icon">
          <img src="assets/images/telegram.png" alt="">
        </figure>
        <div class="footer__application__telegram__info">
          <div class="footer__application__telegram__app">Telegram</div>
          <div class="footer__application__telegram__text">Katılmak için tıklayınız.</div>

        </div>
      </div>
    </div>
  </footer>
  <script src='https://cdnjs.cloudflare.com/ajax/libs/gsap/1.18.4/TweenMax.min.js'></script>
  <script src='https://cdnjs.cloudflare.com/ajax/libs/gsap/1.18.4/utils/Draggable.min.js'></script>
  <script src="./script.js"></script>

  <script>
    var rowSize = 100; // => container height / number of items
    var container = document.querySelector(".container");
    var listItems = Array.from(document.querySelectorAll(".list-item")); // Array of elements
    var sortables = listItems.map(Sortable); // Array of sortables
    var total = sortables.length;

    TweenLite.to(container, 0.5, { autoAlpha: 1 });

    function changeIndex(item, to) {

      // Change position in array
      const departmentName = document.querySelectorAll('.department-name');
      departmentName.forEach(item => {

        arrayMove(sortables, item.index, to);
      })



      // Change element's position in DOM. Not always necessary. Just showing how.
      if (to === total - 1) {
        container.appendChild(item.element);
      } else {
        var i = item.index > to ? to : to + 1;
        container.insertBefore(item.element, container.children[i]);
      }

      // Set index for each sortable
      sortables.forEach((sortable, index) => sortable.setIndex(index));
    }

    function Sortable(element, index) {

      var content = element.querySelector(".item-content");
      var order = element.querySelector(".order");

      var animation = TweenLite.to(content, 0.3, {
        boxShadow: "rgba(0,0,0,0.2) 0px 16px 32px 0px",
        force3D: true,
        scale: 1.1,
        paused: true
      });


      var dragger = new Draggable(element, {
        onDragStart: downAction,
        onRelease: upAction,
        onDrag: dragAction,
        cursor: "inherit",
        type: "y"
      });


      // Public properties and methods
      var sortable = {
        dragger: dragger,
        element: element,
        index: index,
        setIndex: setIndex
      };


      TweenLite.set(element, { y: index * rowSize });

      function setIndex(index) {

        sortable.index = index;
        order.textContent = index + 1;

        // Don't layout if you're dragging
        if (!dragger.isDragging) layout();
      }

      function downAction() {
        animation.play();
        this.update();
      }

      function dragAction() {

        // Calculate the current index based on element's position
        var index = clamp(Math.round(this.y / rowSize), 0, total - 1);

        if (index !== sortable.index) {
          changeIndex(sortable, index);
        }
      }

      function upAction() {
        animation.reverse();
        layout();
      }

      function layout() {
        TweenLite.to(element, 0.3, { y: sortable.index * rowSize });
      }

      return sortable;
    }

    // Changes an elements's position in array
    function arrayMove(array, from, to) {
      array.splice(to, 0, array.splice(from, 1)[0]);

    }

    // Clamps a value to a min/max
    function clamp(value, a, b) {
      return value < a ? a : value > b ? b : value;
    }
  </script>

  <script>
    const rejectBtn = document.querySelector('.preference-list__buttons__reject');
    const buttons1 = document.querySelector('.preference-list__buttons');
    const buttons2 = document.querySelector('.preference-list__buttons-2');
    const returnBtn = document.querySelector('.preference-list__buttons__return-back');
    const preferenceList = document.querySelectorAll('.preference__item__content');


    rejectBtn.addEventListener('click', () => {
      buttons1.classList.add('display-none');
      buttons2.classList.remove('display-none');
      buttons2.classList.add('preference-list__buttons-2--flex-layout');

      preferenceList.forEach(item=>{
        item.children('div').remove();
        console.log(item.children('div').remove());
      })
    });

    returnBtn.addEventListener('click', () => {
      buttons1.classList.remove('display-none');
      buttons2.classList.add('display-none');
      buttons2.classList.remove('preference-list__buttons-2--flex-layout');
    })


  </script>

  <script src="assets/js/popup.js"></script>
</body>

</html>